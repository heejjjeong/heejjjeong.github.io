---
layout: single
title: "가상 함수 ( virtual function )"
categories: cpp
tag: [template]
toc: true

---



# 가상 함수 

> C++에서 자식 클래스에 재정의( override ) 할 것으로 기대하는 멤버 함수를 의미함
>
> 멤버 함수 앞에 virtual 키워드를 붙여 선언함 → 런 타임에 함수의 다형성을 구현할 때 사용함



### 선언 규칙

- 클래스의 public 영역에 선언해야 한다.
- 가상 함수는 static일 수 없다.
- 런 타임 다형성을 얻기 위해, 기본 클래스의 포인터 또는 참조를 통해 접근해야 한다.
- 가상 함수는 반환형과 매개변수가 자식 클래스 에서도 일치해야 한다.

```c++
#include <iostream>

class parent 
{
public:
    virtual void v_print()
    {
        std::cout << "v_parent" << "\n";
    }
	void print()
	{
		std::cout << "parent" << "\n";
	}
};

class child : public parent
{
	virtual void v_print()
	{
		std::cout << "v_child" << "\n";
	}
	void print()
	{
		std::cout << "child" << "\n";
	}
};
int main()
{
	parent* p;
	child c;
	p = &c;

	p->v_print();
	p->print();

	return 0;
}
```

```
[출력 결과]
v_child
parent
```



parent 클래스를 가리키는 포인터 p를 선언 후, child 클래스의 객체 c를 선언했다.

포인터 p가 c 객체를 가리키고 있다 ( 몸체는 parent 클래스 이지만, 현재 실제 객체는 child 클래스이다. )













